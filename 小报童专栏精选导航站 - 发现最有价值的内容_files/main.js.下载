function searchBlocks(){const searchInput=document.querySelector('.search-input').value.toLowerCase();const category=document.querySelector('.category-button.selected').dataset.category;const blocks=document.querySelectorAll('.block');let resultsCount=0;blocks.forEach(block=>{const title=block.querySelector('.block-title').textContent.toLowerCase();const content=block.querySelector('.block-content').textContent.toLowerCase();const author=block.querySelector('.block-author').textContent.toLowerCase();const categoryMatch=category==='all'||block.classList.contains(category);if((title.includes(searchInput)||content.includes(searchInput)||author.includes(searchInput))&&categoryMatch){block.style.display='block';resultsCount++}else{block.style.display='none'}});showResult(resultsCount)}function filterCategory(button){const category=button.dataset.category;const blocks=document.querySelectorAll('.block');const resultsCount=Array.from(blocks).reduce((count,block)=>{const shouldShow=category==='all'||block.classList.contains(category);block.style.display=shouldShow?'block':'none';return count+(shouldShow?1:0)},0);showResult(resultsCount);updateCategorySelection(button)}function updateCategorySelection(selectedButton){document.querySelectorAll('.category-button').forEach(button=>{button.classList.toggle('selected',button===selectedButton)})}function showResult(resultsCount){const searchResults=document.getElementById('search-results');searchResults.textContent=`共有${resultsCount}个专栏`}function scrollToTop(){window.scrollTo({top:0,behavior:'smooth'})}